<!DOCTYPE html>
<html>

<head>
  <meta charset=utf-8 />
  <title>Hyperurbanizing Megaregion</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

  <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css" />
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Catamaran" rel="stylesheet">

  <style>
    body {
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      font-family: "Montserrat", sans-serif;
      color: #3d3d3d;
      font-size: 100%;
    }

    header,
    footer {
      background: #00a1ff;
      color: white;
      padding: 8px 0;
    }

    footer a {
      color: #cae3f2;
    }
    section {
      width: 80%;
      margin: 20px auto;
    }

    h1 {
      font-size: 2em;
      font-family: "Catamaran", monospace;
      /* changed heading font */
      letter-spacing: .04em;
    }

    h2 {
      font-size: 1.5em;
      font-family: "Catamaran", monospace;
      /* changed heading font */
      letter-spacing: .04em;
    }

    p {
      font-size: 1em;
      line-height: 1.5em;
    }

    a {
      color: #00a1ff;
      /* link color to current favorite color (cyan/seafoam) */
      font-weight: bold;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    ul {
      padding-left: 20px;
    }

    li {
      margin: 10px 0
    }

    #map {
      width: 100%;
      height: 540px;
      margin: 10px auto;
      border: 2px solid #d3d3d3;
    }

    .two-column {
      /* not really using the two column, but page is responsive */
      float: left;
      width: 49%;
      margin-right: 1%;
    }

    .below-columns {
      display: inline-block;
      width: 100%;
    }

    .modal {
      position: absolute;
      width: 100%;
      top: 0;
      bottom: 0;
      background: #fcfafab8;
      z-index: 1000;
      display: none;
    }

    .modal-content {
      position: absolute;
      bottom: 7%;
      width: 450px;
      left: 50%;
      background: #e3e1e1b8;
      padding: 2% 3%;
      margin-left: calc(-640px / 2 - 3%);
    }
  </style>

</head>

<body>
  <header>
    <section>
      <h1>Our Hyperurbanizing Megaregion</h1>
    </section>
  </header>
  <section>
    <div id='map'></div>
  </section>

  <section>
    <h2>about Orlando, Florida</h2>
    <p>Before the 1960's, it was all orange groves, nurseries for ferns, and wetlands. Now when I go home, it seems like it's
      all concrete, asphalt, retention ponds, and parking lots. The entire lot of the house I grew up in eventually became a retention pond to facilitate the
      expansion of a highway. When it was still a backyard, my sister buried her dead hamster "Salmon" there.  As in any typical community, there were <button id='hidden-dangers'>hidden dangers</button>.</p>
    <p>Area Guinness Record: The most parallel bar dips in one minute with a 100 lb pack is 31, and was achieved by Denys Havrikov
      (Ukraine), in
      <a href="http://www.guinnessworldrecords.com/world-records/104417-most-parallel-bar-dips-in-one-minute-with-a-100-lb-pack">Orlando, Florida, USA, on 25 June 2017</a>.</p>
    </section>
    <footer>
      <section>
        <ul>
          <li>See my projects on GitHub:
            <a href="https://github.com/JoshuaKnightKY">JoshuaKnightKY</a>
          </li>
          <!-- <li>Visit my <a href='#'>mapping portfolio</a>.</li> -->
        </ul>
      </section>
    </footer>


    <div class="modal">
      <div class="modal-content">
        <h3>A mall parking lot</h3>
        <img src="http://fscomps.fotosearch.com/compc/GLW/GLW413/gwt172030.jpg" alt="Some parking lot">
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"></script>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet-src.js"></script>
    <script>
      // map options
      var options = {
        center: [28.651007, -81.315989], // map recentered to Wirz Park Pool
        zoom: 16 // adjust to display all locations upon load
      }

      // create variables for data and values
      var nameLocation = ["Pet Cemetary", "Wirz Park Big Field", "Hector's House", "Wirz Park Small Field", "7-11 in Deer Run", "Kyle's House"];
          coordinateLocation = [[28.647274, -81.317506], [28.650825, -81.314764], [28.651020, -81.317126], [28.650600, -81.315934], [28.653221, -81.309527], [28.654393, -81.318275]];
          detailsLocation = ["My sister's dead hamster Salmon was buried here.", "The big field for weekend little league games.", "My best friend in middle school lived here.", "The small field for little league practice.", "This was the closest convenience store.", "Kyle was also part of the 'plays too much nintendo' club."];
          descriptionCurrent = [false, true, false, true, true, false]; // is the description still valid today
          typeLocation = ["Cemetary", "Baseball Field", "Residence", "Baseball Field", "Convenience Store", "Residence"];
          typeIconURL = ["svgs/veterinary-15.svg", "svgs/baseball-15.svg" , "svgs/home-15.svg", "svgs/commercial-15.svg"];

      // create variables for secret locations

      var secretLocation = ["High Voltage Substation", "Sinkholes", "Jason's House"];
          secretCoords = [[28.650235, -81.321234], [28.649962, -81.314955], [28.649718, -81.320141]];
          secretDetails = ["No Tresspassing Signs and Razor-wire" , "Before the trail system..." , "Bully who claimed to know karate."];
          secretType = ["Danger", "Danger", "Danger"];


      // create a Leaflet map in our division container with id of 'map'
      var map = L.map('map', options);

      // request some basemap tiles and add to the map
      var tiles = L.tileLayer(
        'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
          attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
        }).addTo(map);


            // add markers
      for (var i = 0; i < nameLocation.length; i++){
        var locationPopup = "<h2>" + nameLocation[i] + "</h2>" + detailsLocation[i];
          var iconLocation = createIcon(typeLocation[i]);
          L.marker(coordinateLocation[i], {icon: iconLocation}).addTo(map).bindTooltip(locationPopup);
      };

      function createIcon(locationType) {
        var iconURL = "",
            iconSize = 40;

        if (typeLocation[i] == "Cemetary") {
            iconURL = typeIconURL[0];
        } else if (typeLocation[i] == "Baseball Field") {
            iconURL = typeIconURL[1];
        } else if (typeLocation[i] == "Residence") {
            iconURL = typeIconURL[2];
        } else {
            iconURL = typeIconURL[3];
        }

        var result = L.icon({
            iconUrl: iconURL,
            iconSize: iconSize,
            popupAnchor: [0, -15]
        });
        return result;
      };

      var button = document.getElementById("hidden-dangers");

  		button.addEventListener("click", function() {
  			mapHidden();
  		});


  		function mapHidden() {
        var dangerIcon = L.icon({
          iconUrl: "svgs/danger-15.svg",
          iconSize: 40,
        });
  			for (var i = 0; i < secretLocation.length; i++) {
  				var popup = "<h3>" + secretLocation[i] + "</h3><br>" + secretDetails[i];
  				L.marker(secretCoords[i], {icon: dangerIcon}).addTo(map).bindTooltip(popup);
  			}

  		}


      // show the modal
      // $('#show-lots').on("click", function () {
      //   $('.modal').fadeToggle();
      // });
      //
      // // hide the modal
      // $('.modal').click(function () {
      //   $('.modal').fadeToggle();
      // });
    </script>

</body>

</html>
